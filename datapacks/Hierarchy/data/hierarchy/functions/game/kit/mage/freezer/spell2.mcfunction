scoreboard players set @e[scores={Timer=0..},tag=MF2G] DirCollision 1
tag @e[scores={Timer=5..},tag=MF2G] add DirCollision
tag @e[tag=DirCollision,tag=MF2G] remove DirMoving
scoreboard players set @e[scores={Timer=0..},tag=MF2G,tag=DirCollision] Timer -100

execute at @e[tag=MF2G,tag=DirCollision] run summon armor_stand ~ ~-70 ~ {Marker:1,Invisible:1,PickupDelay:999999,Tags:["MF2G-item"],Item:{id:"minecraft:ice",Count:1b}}
execute as @e[tag=MF2G-item,tag=!MF2G-old] at @s run summon armor_stand ~ ~ ~ {Marker:1,Invisible:1,PickupDelay:999999,Tags:["MF2G-item"],Item:{id:"minecraft:ice",Count:1b}}
execute as @e[tag=MF2G-item,tag=!MF2G-old] at @s run summon armor_stand ~ ~ ~ {Marker:1,Invisible:1,PickupDelay:999999,Tags:["MF2G-item"],Item:{id:"minecraft:ice",Count:1b}}
execute as @e[tag=MF2G-item,tag=!MF2G-old] at @s run summon armor_stand ~ ~ ~ {Marker:1,Invisible:1,PickupDelay:999999,Tags:["MF2G-item"],Item:{id:"minecraft:ice",Count:1b}}
execute as @e[tag=MF2G-item,tag=!MF2G-old] at @s run summon armor_stand ~ ~ ~ {Marker:1,Invisible:1,PickupDelay:999999,Tags:["MF2G-item"],Item:{id:"minecraft:ice",Count:1b}}
execute at @e[tag=MF2G,tag=DirCollision] run spreadplayers ~ ~ 1 5 false @e[tag=MF2G-item,tag=!MF2G-old]
scoreboard players set @e[tag=MF2G-item,tag=!MF2G-old] Timer -100
tag @e[tag=MF2G-item] add MF2G-old
execute as @e[tag=MF2G-item] at @s run summon falling_block ~ ~ ~ {BlockState:{Name:"snow"},NoGravity:1,Tags:["MF2G-item2"]}

tag @e[tag=DirCollision,tag=MF2G] remove DirCollision

execute at @e[type=armor_stand,name=Blue,tag=Setting_Ally_Indicator,limit=1,sort=nearest] at @e[type=armor_stand,scores={Class=4,Timer=-101},tag=MF2G] run summon armor_stand ~ ~200 ~ {Tags:["RotBase","Rot"],NoGravity:1,Rotation:[180f],CustomName:"{\"text\":\"RotBase\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Start\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot","Orange"],CustomName:"{\"text\":\"End\"}"}]}]}]}]}]}]}]}]}]}]}]}]}]}
execute at @e[type=armor_stand,name=Blue,tag=Setting_Ally_Indicator,limit=1,sort=nearest] at @e[type=armor_stand,scores={Class=4,Timer=-141},tag=MF2G] run summon armor_stand ~ ~200 ~ {Tags:["RotBase","Rot"],NoGravity:1,Rotation:[180f],CustomName:"{\"text\":\"RotBase\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Start\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot","Orange"],CustomName:"{\"text\":\"End\"}"}]}]}]}]}]}]}]}]}]}]}]}]}]}
execute at @e[type=armor_stand,name=Blue,tag=Setting_Ally_Indicator,limit=1,sort=nearest] at @e[type=armor_stand,scores={Class=4,Timer=-181},tag=MF2G] run summon armor_stand ~ ~200 ~ {Tags:["RotBase","Rot"],NoGravity:1,Rotation:[180f],CustomName:"{\"text\":\"RotBase\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Start\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot","Orange"],CustomName:"{\"text\":\"End\"}"}]}]}]}]}]}]}]}]}]}]}]}]}]}

execute at @e[type=armor_stand,name=Blue,tag=Setting_Ally_Indicator,limit=1,sort=nearest] at @e[type=armor_stand,scores={Class=-4,Timer=-101},tag=MF2G] run summon armor_stand ~ ~200 ~ {Tags:["RotBase","Rot"],NoGravity:1,Rotation:[180f],CustomName:"{\"text\":\"RotBase\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Start\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot","Blue"],CustomName:"{\"text\":\"End\"}"}]}]}]}]}]}]}]}]}]}]}]}]}]}
execute at @e[type=armor_stand,name=Blue,tag=Setting_Ally_Indicator,limit=1,sort=nearest] at @e[type=armor_stand,scores={Class=-4,Timer=-141},tag=MF2G] run summon armor_stand ~ ~200 ~ {Tags:["RotBase","Rot"],NoGravity:1,Rotation:[180f],CustomName:"{\"text\":\"RotBase\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Start\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot","Blue"],CustomName:"{\"text\":\"End\"}"}]}]}]}]}]}]}]}]}]}]}]}]}]}
execute at @e[type=armor_stand,name=Blue,tag=Setting_Ally_Indicator,limit=1,sort=nearest] at @e[type=armor_stand,scores={Class=-4,Timer=-181},tag=MF2G] run summon armor_stand ~ ~200 ~ {Tags:["RotBase","Rot"],NoGravity:1,Rotation:[180f],CustomName:"{\"text\":\"RotBase\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Start\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot"],CustomName:"{\"text\":\"Middle\"}",Passengers:[{id:armor_stand,Invisible:1,Tags:["Rot"]},{id:boat,Rotation:[0f],Tags:["Rot","Blue"],CustomName:"{\"text\":\"End\"}"}]}]}]}]}]}]}]}]}]}]}]}]}]}

execute as @e[type=armor_stand,scores={Timer=-101},tag=MF2G] at @s run playsound block.sand.break record @a[distance=..30] ~ ~ ~ 2 1 1
execute at @e[type=armor_stand,scores={Timer=..-1},tag=MF2G] run particle minecraft:block quartz_block ~ ~0.3 ~ 4 0.2 4 0 5 force

execute as @e[type=armor_stand,scores={Class=-4,Timer=..-1},tag=MF2G] at @s run scoreboard players set @e[team=!Blue,tag=IsPlaying,distance=..7] EffPoison 2
execute as @e[type=armor_stand,scores={Class=-4,Timer=..-1},tag=MF2G] at @s run scoreboard players set @e[team=!Blue,tag=IsPlaying,distance=..7] EffSlow 1002
execute as @e[type=armor_stand,scores={Class=-4,Timer=..-1},tag=MF2G] at @s at @a[team=!Blue,tag=IsPlaying,distance=..7] run summon falling_block ~ ~-0.2 ~ {BlockState:{Name:"ice"},NoGravity:1,Tags:["MF2G-item"]}

execute as @e[type=armor_stand,scores={Class=-4,Timer=..-1},tag=MF2G] at @s run scoreboard players operation @e[team=!Blue,tag=IsPlaying,distance=..7] TouchID = @s ID
execute as @e[type=armor_stand,scores={Class=4,Timer=..-1},tag=MF2G] at @s run scoreboard players set @e[team=!Orange,tag=IsPlaying,distance=..7] EffPoison 2
execute as @e[type=armor_stand,scores={Class=4,Timer=..-1},tag=MF2G] at @s run scoreboard players set @e[team=!Orange,tag=IsPlaying,distance=..7] EffSlow 1002
execute as @e[type=armor_stand,scores={Class=4,Timer=..-1},tag=MF2G] at @s at @a[team=!Orange,tag=IsPlaying,distance=..7] run summon falling_block ~ ~-0.2 ~ {BlockState:{Name:"ice"},NoGravity:1,Tags:["MF2G-item"]}
execute as @e[type=armor_stand,scores={Class=4,Timer=..-1},tag=MF2G] at @s run scoreboard players operation @e[team=!Orange,tag=IsPlaying,distance=..7] TouchID = @s ID
